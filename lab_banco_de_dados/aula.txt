17/08/23
CREATE USER "US_768343"
IDENTIFIED BY "F0X"
DEFAULT TABLESPACE "TBLS5W_768343"
TEMPORARY TABLESPACE "TEMP"
PROFILE DEFAULT
ACCOUNT UNLOCK;

laboratorio@grad
unaerp

GRANT CREATE SESSION, CREATE TABLE, SELECT ANY TABLE, INSERT ANY TABLE TO TEST_F;
24/08/2023

excluir usuario
DROP USER TESTECODIGO;

roles
CREATE ROLE PERFILCODIGO;
GRANT PERFILCODIGO TO USER
GRANT TEST_F TO US_768343;

create table "TABLE_F"
(
ID_ALUNO NUMBER(6),
NOM_ALUNO VARCHAR2(40) NOT NULL,
DTN_ALUNO DATE,
CPF_ALUNO VARCHAR2(11) UNIQUE,
SEX_ALUNO CHAR(1),
CONSTRAINT PK_ALUNO PRIMARY KEY (ID_ALUNO)
);

31/08/23

CREATE TABLE DISCIPLINA
(
COD_DISCIPLINA NUMBER(6),
NOM_DISCIPLINA VARCHAR2(30) NOT NULL,
CH_DISCIPLINA NUMBER(3),
CONSTRAINT PK_DISCIPLINA PRIMARY KEY (COD_DISCIPLINA)
);

CREATE TABLE ALUNO_DISCIPLINA
COD_DISCIPLINA NUMBER(6),
ID_ALUNO NUMBER(6),
SEM_ANO_ALU_DISC NUMBER(5),
CONSTRAINT PK ALUNO DISCIPLINA PRIMARY KEY (COD DISCIPLINA, ID_ ALUNO, SEM_ANO_ALU_DISC),
CONSTRAINT FK ALUNO_DISC_ALUNO FOREIGN KEY (ID_ALUNO) REFERENCES ALUNO,
CONSTRAINT FK ALUNO_DISC_DISC FOREIGN KEY (COD_DISCIPLINA) REFERENCES DISCIPLINA
):


exercicio

1 elaborar os scripts p/ criar as tabelas

|Condominio                          |        |UNIDADE                             |
|CNPJ_CONDOMINIO NUMBER(11) (PK)     |-------E|CNPJ_CONDOMINIO NUMBER(11) (PK) (FK)|
|NOM_CONDOMINIO VARCHAR2(40) NOT NULL|        |NUM_UNIDADE NUMBER(3) (PK)          |
|END_CONDOMINIO VARCHAR2(40)         |        |PROP_UNIDADE VARCHAR2(40) NOT NULL  |
|BAI_CONDOMINIO VARCHAR2(35)         |        |CPF_PROP_UNIDADE NUMBER(11)         |
|UF_CONDOMINIO CHAR(2)               |        |                                    |
|CEP_CONDOMINIO NUMBER(8)            |        |                                    |
                                               |              |
                           ____________________|              |
                          |                                   |
                          M                                   M
|TAXA                                |        |CONTATO_UNIDADE                     |
|NUM_TAXA NUMBER(4) (PK)             |        |DDD_CONTATO_UNIDADE NUMBER(2) (PK)  |
|DTV_TAXA DATE                       |        |NUM_CONTATO_UNIDADE NUMBER(10) (PK) |
|VLR_TAXA NUMBER(8,2)                |        |CNPJ_CONDOMINIO NUMBER(11) (PK) (FK)|
|CNPJ_CONDOMINIO NUMBER(11) (FK)     |        |NUM_UNIDADE NUMBER(3) (PK) (FK)     |
|NUM_UNIDADE NUMBER(3) (FK)          |        |                                    |

CREATE TABLE CONDOMINIO
(
CNPJ_CONDOMINIO NUMBER(14),
NOM_CONDOMINIO VARCHAR2(40) NOT NULL,
END_CONDOMINIO VARCHAR2(40),
BAI_CONDOMINIO VARCHAR2(35),
UF_CONDOMINIO CHAR(2),
CEP_CONDOMINIO NUMBER(8),
CONSTRAINT PK_CONDOMINIO PRIMARY KEY (CNPJ_CONDOMINIO)
);

CREATE TABLE UNIDADE
(
NUM_UNIDADE NUMBER(3),
PROP_UNIDADE VARCHAR2(40) NOT NULL,
CPF_PROP_UNIDADE NUMBER(11),
CONSTRAINT PK_UNIDADE PRIMARY KEY (CNPJ_CONDOMINIO, NUM_UNIDADE),
CONSTRAINT FK_CNPJ_CONDOMINIO FOREIGN KEY (CNPJ_CONDOMINIO) REFERENCES CONDOMINIO,
);

CREATE TABLE TAXA
(
NUM_TAXA NUMBER(4),
DTV_TAXA DATE,
VLR_TAXA NUMBER(8,2),
CONSTRAINT PK_TAXA PRIMARY KEY (NUM_TAXA),
CONSTRAINT FK_CNPJ_CONDOMINIO FOREIGN KEY (CNPJ_CONDOMINIO) REFERENCES CONDOMINIO,
CONSTRAINT FK_NUM_UNIDADE FOREIGN KEY (NUM_UNIDADE) REFERENCES UNIDADE,
);

CREATE TABLE CONTATO_UNIDADE
(
DDD_CONTATO_UNIDADE NUMBER(2),
NUM_CONTATO_UNIDADE NUMBER(10),
CONSTRAINT PK_TAXA PRIMARY KEY (DDD_CONTATO_UNIDADE, NUM_CONTATO_UNIDADE, CNPJ_CONDOMINIO, NUM_UNIDADE),
CONSTRAINT FK_CNPJ_CONDOMINIO FOREIGN KEY (CNPJ_CONDOMINIO) REFERENCES CONDOMINIO,
CONSTRAINT FK_NUM_UNIDADE FOREIGN KEY (NUM_UNIDADE) REFERENCES UNIDADE,
);


14/09/2023

alter table 
ALTER TABLE "table name"
operação: ADD | MODIFY | DROP

ex:
1 add 2 novos atributos na tabela ALUNO: RG_ALUNO, EML_ALUNO

ALTER TABLE "ALUNO"
ADD (RG_ALUNO VARCHAR2(11), EML_ALUNO VARCHAR2(4);

2 ajustar tamanho EML_ALUNO (VARCHAR2(40))
ALTER TABLE "ALUNO"
MODIFY EML_ALUNO VARCHAR2(40);

3 add a constrain a tabela curso - pk COD_CURSO
CREATE TABLE CURSO
(COD_CURSO NUMBER (3),
NOM_CURSO VARCHAR2(30),
TMP_CURSO NUMBER(1)
);

ALTER TABLE CURSO
ADD CONSTRAIN PK_CURSO PRIMARY KEY (COD_CURSO);

4- modificar atributo NOM_CURSO para que ele seja obrigatório

ALTER TABLE "ALUNO"
MODIFY NUM_CURSO VERCHAR2(30) NOT NULL;

